using Api.Financeiro.ViewModel;
using Microsoft.AspNetCore.Authorization;
using Microsoft.AspNetCore.Mvc;
using Newtonsoft.Json;
using System.Linq;
using System.Threading.Tasks;

namespace Api.Financeiro.Controllers
{
    [Authorize, Route("[controller]")]
    public class CotacaoController : ControllerBase
    {
        [HttpGet, Route("cripto-moedas"), Authorize(Policy = "Leitura")]
        public async Task<IActionResult> CriptoMoedas()
        {
            // {\"status\":{\"timestamp\":\"2019-06-21T03:34:14.261Z\",\"error_code\":0,\"error_message\":null,\"elapsed\":5,\"credit_count\":1},\"data\":[{\"id\":1,\"name\":\"Bitcoin\",\"symbol\":\"BTC\",\"slug\":\"bitcoin\",\"circulating_supply\":17770925,\"total_supply\":17770925,\"max_supply\":21000000,\"date_added\":\"2013-04-28T00:00:00.000Z\",\"num_market_pairs\":7626,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":1,\"last_updated\":\"2019-06-21T03:33:26.000Z\",\"quote\":{\"USD\":{\"price\":9690.25531837,\"volume_24h\":19389162746.5924,\"percent_change_1h\":-0.524035,\"percent_change_24h\":4.15723,\"percent_change_7d\":17.5997,\"market_cap\":172204800493.6044,\"last_updated\":\"2019-06-21T03:33:26.000Z\"}}},{\"id\":1027,\"name\":\"Ethereum\",\"symbol\":\"ETH\",\"slug\":\"ethereum\",\"circulating_supply\":106575904.1866,\"total_supply\":106575904.1866,\"max_supply\":null,\"date_added\":\"2015-08-07T00:00:00.000Z\",\"num_market_pairs\":5395,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":2,\"last_updated\":\"2019-06-21T03:33:19.000Z\",\"quote\":{\"USD\":{\"price\":279.50952433,\"volume_24h\":7513435431.32225,\"percent_change_1h\":-0.541476,\"percent_change_24h\":3.58826,\"percent_change_7d\":8.99539,\"market_cap\":29788980284.236217,\"last_updated\":\"2019-06-21T03:33:19.000Z\"}}},{\"id\":52,\"name\":\"XRP\",\"symbol\":\"XRP\",\"slug\":\"ripple\",\"circulating_supply\":42501950124,\"total_supply\":99991601899,\"max_supply\":100000000000,\"date_added\":\"2013-08-04T00:00:00.000Z\",\"num_market_pairs\":426,\"tags\":[],\"platform\":null,\"cmc_rank\":3,\"last_updated\":\"2019-06-21T03:33:02.000Z\",\"quote\":{\"USD\":{\"price\":0.436165761699,\"volume_24h\":1470844157.89488,\"percent_change_1h\":-0.214369,\"percent_change_24h\":0.364731,\"percent_change_7d\":9.11704,\"market_cap\":18537895449.527367,\"last_updated\":\"2019-06-21T03:33:02.000Z\"}}},{\"id\":2,\"name\":\"Litecoin\",\"symbol\":\"LTC\",\"slug\":\"litecoin\",\"circulating_supply\":62318750.4246447,\"total_supply\":62318750.4246447,\"max_supply\":84000000,\"date_added\":\"2013-04-28T00:00:00.000Z\",\"num_market_pairs\":568,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":4,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":137.726816416,\"volume_24h\":4081863654.62775,\"percent_change_1h\":0.630391,\"percent_change_24h\":1.24815,\"percent_change_7d\":5.56552,\"market_cap\":8582963099.0095625,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":1831,\"name\":\"Bitcoin Cash\",\"symbol\":\"BCH\",\"slug\":\"bitcoin-cash\",\"circulating_supply\":17849100,\"total_supply\":17849100,\"max_supply\":21000000,\"date_added\":\"2017-07-23T00:00:00.000Z\",\"num_market_pairs\":334,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":5,\"last_updated\":\"2019-06-21T03:33:05.000Z\",\"quote\":{\"USD\":{\"price\":423.827233149,\"volume_24h\":1482883150.80566,\"percent_change_1h\":-0.301844,\"percent_change_24h\":1.83365,\"percent_change_7d\":3.10865,\"market_cap\":7564934667.199816,\"last_updated\":\"2019-06-21T03:33:05.000Z\"}}},{\"id\":1765,\"name\":\"EOS\",\"symbol\":\"EOS\",\"slug\":\"eos\",\"circulating_supply\":919980357.8206,\"total_supply\":1016680363.5009,\"max_supply\":null,\"date_added\":\"2017-07-01T00:00:00.000Z\",\"num_market_pairs\":325,\"tags\":[],\"platform\":null,\"cmc_rank\":6,\"last_updated\":\"2019-06-21T03:33:05.000Z\",\"quote\":{\"USD\":{\"price\":6.98389558232,\"volume_24h\":2164498677.45952,\"percent_change_1h\":-0.504524,\"percent_change_24h\":1.69592,\"percent_change_7d\":8.26297,\"market_cap\":6425046756.8044615,\"last_updated\":\"2019-06-21T03:33:05.000Z\"}}},{\"id\":1839,\"name\":\"Binance Coin\",\"symbol\":\"BNB\",\"slug\":\"binance-coin\",\"circulating_supply\":141175490.242,\"total_supply\":189175490.242,\"max_supply\":null,\"date_added\":\"2017-07-25T00:00:00.000Z\",\"num_market_pairs\":173,\"tags\":[],\"platform\":null,\"cmc_rank\":7,\"last_updated\":\"2019-06-21T03:34:06.000Z\",\"quote\":{\"USD\":{\"price\":36.4924972615,\"volume_24h\":621873377.479583,\"percent_change_1h\":-0.701443,\"percent_change_24h\":4.44787,\"percent_change_7d\":6.061,\"market_cap\":5151846191.047105,\"last_updated\":\"2019-06-21T03:34:06.000Z\"}}},{\"id\":3602,\"name\":\"Bitcoin SV\",\"symbol\":\"BSV\",\"slug\":\"bitcoin-sv\",\"circulating_supply\":17846973.324383,\"total_supply\":17846973.324383,\"max_supply\":21000000,\"date_added\":\"2018-11-09T00:00:00.000Z\",\"num_market_pairs\":126,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":8,\"last_updated\":\"2019-06-21T03:33:10.000Z\",\"quote\":{\"USD\":{\"price\":221.015354605,\"volume_24h\":457443989.638171,\"percent_change_1h\":-0.499717,\"percent_change_24h\":-1.61342,\"percent_change_7d\":6.33904,\"market_cap\":3944455137.914485,\"last_updated\":\"2019-06-21T03:33:10.000Z\"}}},{\"id\":825,\"name\":\"Tether\",\"symbol\":\"USDT\",\"slug\":\"tether\",\"circulating_supply\":3547705309.32656,\"total_supply\":3720057493.36343,\"max_supply\":null,\"date_added\":\"2015-02-25T00:00:00.000Z\",\"num_market_pairs\":2469,\"tags\":[],\"platform\":{\"id\":83,\"name\":\"Omni\",\"symbol\":\"OMNI\",\"slug\":\"omni\",\"token_address\":\"31\"},\"cmc_rank\":9,\"last_updated\":\"2019-06-21T03:33:10.000Z\",\"quote\":{\"USD\":{\"price\":1.00241507143,\"volume_24h\":19007188295.3469,\"percent_change_1h\":0.0510195,\"percent_change_24h\":0.114615,\"percent_change_7d\":-0.0803756,\"market_cap\":3556273271.061174,\"last_updated\":\"2019-06-21T03:33:10.000Z\"}}},{\"id\":512,\"name\":\"Stellar\",\"symbol\":\"XLM\",\"slug\":\"stellar\",\"circulating_supply\":19408944602.6089,\"total_supply\":105082570523.4,\"max_supply\":null,\"date_added\":\"2014-08-05T00:00:00.000Z\",\"num_market_pairs\":269,\"tags\":[],\"platform\":null,\"cmc_rank\":10,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":0.123405368828,\"volume_24h\":295132340.508032,\"percent_change_1h\":0.0967938,\"percent_change_24h\":-0.459943,\"percent_change_7d\":-0.816837,\"market_cap\":2395167967.247171,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":2010,\"name\":\"Cardano\",\"symbol\":\"ADA\",\"slug\":\"cardano\",\"circulating_supply\":25927070538,\"total_supply\":31112483745,\"max_supply\":45000000000,\"date_added\":\"2017-10-01T00:00:00.000Z\",\"num_market_pairs\":85,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":11,\"last_updated\":\"2019-06-21T03:34:05.000Z\",\"quote\":{\"USD\":{\"price\":0.0885581778005,\"volume_24h\":156549814.708529,\"percent_change_1h\":-0.731165,\"percent_change_24h\":-0.211231,\"percent_change_7d\":-1.47028,\"market_cap\":2296054122.550309,\"last_updated\":\"2019-06-21T03:34:05.000Z\"}}},{\"id\":1958,\"name\":\"TRON\",\"symbol\":\"TRX\",\"slug\":\"tron\",\"circulating_supply\":66682072191.4,\"total_supply\":99281283754.3,\"max_supply\":null,\"date_added\":\"2017-09-13T00:00:00.000Z\",\"num_market_pairs\":232,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":12,\"last_updated\":\"2019-06-21T03:33:05.000Z\",\"quote\":{\"USD\":{\"price\":0.0330249952234,\"volume_24h\":614918797.231995,\"percent_change_1h\":-0.884443,\"percent_change_24h\":-1.22905,\"percent_change_7d\":1.61046,\"market_cap\":2202175115.607399,\"last_updated\":\"2019-06-21T03:33:05.000Z\"}}},{\"id\":3957,\"name\":\"UNUS SED LEO\",\"symbol\":\"LEO\",\"slug\":\"unus-sed-leo\",\"circulating_supply\":999498892.9,\"total_supply\":999498892.9,\"max_supply\":null,\"date_added\":\"2019-05-21T00:00:00.000Z\",\"num_market_pairs\":17,\"tags\":[],\"platform\":{\"id\":1027,\"name\":\"Ethereum\",\"symbol\":\"ETH\",\"slug\":\"ethereum\",\"token_address\":\"0x2af5d2ad76741191d15dfe7bf6ac92d4bd912ca3\"},\"cmc_rank\":13,\"last_updated\":\"2019-06-21T03:33:11.000Z\",\"quote\":{\"USD\":{\"price\":1.87480657196,\"volume_24h\":9505221.81089506,\"percent_change_1h\":-0.716534,\"percent_change_24h\":0.843181,\"percent_change_7d\":-2.8353,\"market_cap\":1873867093.075664,\"last_updated\":\"2019-06-21T03:33:11.000Z\"}}},{\"id\":328,\"name\":\"Monero\",\"symbol\":\"XMR\",\"slug\":\"monero\",\"circulating_supply\":17053741.8572567,\"total_supply\":17053741.8572567,\"max_supply\":null,\"date_added\":\"2014-05-21T00:00:00.000Z\",\"num_market_pairs\":131,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":14,\"last_updated\":\"2019-06-21T03:34:03.000Z\",\"quote\":{\"USD\":{\"price\":106.516871364,\"volume_24h\":179755833.84196,\"percent_change_1h\":-0.78865,\"percent_change_24h\":5.61677,\"percent_change_7d\":19.0409,\"market_cap\":1816511227.6842742,\"last_updated\":\"2019-06-21T03:34:03.000Z\"}}},{\"id\":131,\"name\":\"Dash\",\"symbol\":\"DASH\",\"slug\":\"dash\",\"circulating_supply\":8875831.80428042,\"total_supply\":8875831.80428042,\"max_supply\":18900000,\"date_added\":\"2014-02-14T00:00:00.000Z\",\"num_market_pairs\":240,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":15,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":162.943459745,\"volume_24h\":258939072.976876,\"percent_change_1h\":-0.224761,\"percent_change_24h\":0.507912,\"percent_change_7d\":5.75255,\"market_cap\":1446258742.3041575,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":3794,\"name\":\"Cosmos\",\"symbol\":\"ATOM\",\"slug\":\"cosmos\",\"circulating_supply\":190688439.2,\"total_supply\":237928230.821588,\"max_supply\":null,\"date_added\":\"2019-03-14T00:00:00.000Z\",\"num_market_pairs\":69,\"tags\":[],\"platform\":null,\"cmc_rank\":16,\"last_updated\":\"2019-06-21T03:33:10.000Z\",\"quote\":{\"USD\":{\"price\":6.38671230402,\"volume_24h\":69683235.0563532,\"percent_change_1h\":-1.0113,\"percent_change_24h\":-3.26032,\"percent_change_7d\":2.31408,\"market_cap\":1217872200.8730094,\"last_updated\":\"2019-06-21T03:33:10.000Z\"}}},{\"id\":1720,\"name\":\"IOTA\",\"symbol\":\"MIOTA\",\"slug\":\"iota\",\"circulating_supply\":2779530283,\"total_supply\":2779530283,\"max_supply\":2779530283,\"date_added\":\"2017-06-13T00:00:00.000Z\",\"num_market_pairs\":45,\"tags\":[],\"platform\":null,\"cmc_rank\":17,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":0.427869680333,\"volume_24h\":38643365.2189673,\"percent_change_1h\":0.0535702,\"percent_change_24h\":-1.86477,\"percent_change_7d\":-2.42068,\"market_cap\":1189276733.663103,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":1376,\"name\":\"NEO\",\"symbol\":\"NEO\",\"slug\":\"neo\",\"circulating_supply\":70538831,\"total_supply\":100000000,\"max_supply\":100000000,\"date_added\":\"2016-09-08T00:00:00.000Z\",\"num_market_pairs\":183,\"tags\":[],\"platform\":null,\"cmc_rank\":18,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":13.6839576074,\"volume_24h\":405893929.98782,\"percent_change_1h\":-0.703707,\"percent_change_24h\":0.0740388,\"percent_change_7d\":4.76946,\"market_cap\":965250373.079553,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":1321,\"name\":\"Ethereum Classic\",\"symbol\":\"ETC\",\"slug\":\"ethereum-classic\",\"circulating_supply\":111367451,\"total_supply\":111367451,\"max_supply\":210000000,\"date_added\":\"2016-07-24T00:00:00.000Z\",\"num_market_pairs\":197,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":19,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":8.57161879733,\"volume_24h\":656679456.281717,\"percent_change_1h\":-0.59033,\"percent_change_24h\":0.71616,\"percent_change_7d\":1.45468,\"market_cap\":954599336.4023278,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":873,\"name\":\"NEM\",\"symbol\":\"XEM\",\"slug\":\"nem\",\"circulating_supply\":8999999999,\"total_supply\":8999999999,\"max_supply\":null,\"date_added\":\"2015-04-01T00:00:00.000Z\",\"num_market_pairs\":93,\"tags\":[],\"platform\":null,\"cmc_rank\":20,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":0.0866616034982,\"volume_24h\":37179911.9702058,\"percent_change_1h\":-0.587426,\"percent_change_24h\":-0.712618,\"percent_change_7d\":1.07194,\"market_cap\":779954431.3971384,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}}]}
            // Free key with several limits - Get another at https://coinmarketcap.com/pt-br/
            //HttpClient client = new HttpClient();
            //client.DefaultRequestHeaders.Add("X-CMC_PRO_API_KEY", "9758b4ec-a00e-4cc3-94e3-f74cdf061516");
            // var conteudo = await client.GetStringAsync("https://pro-api.coinmarketcap.com/v1/cryptocurrency/listings/latest?start=1&limit=20");

            // Without internet test
            var conteudo = "{\"status\":{\"timestamp\":\"2019-06-21T03:34:14.261Z\",\"error_code\":0,\"error_message\":null,\"elapsed\":5,\"credit_count\":1},\"data\":[{\"id\":1,\"name\":\"Bitcoin\",\"symbol\":\"BTC\",\"slug\":\"bitcoin\",\"circulating_supply\":17770925,\"total_supply\":17770925,\"max_supply\":21000000,\"date_added\":\"2013-04-28T00:00:00.000Z\",\"num_market_pairs\":7626,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":1,\"last_updated\":\"2019-06-21T03:33:26.000Z\",\"quote\":{\"USD\":{\"price\":9690.25531837,\"volume_24h\":19389162746.5924,\"percent_change_1h\":-0.524035,\"percent_change_24h\":4.15723,\"percent_change_7d\":17.5997,\"market_cap\":172204800493.6044,\"last_updated\":\"2019-06-21T03:33:26.000Z\"}}},{\"id\":1027,\"name\":\"Ethereum\",\"symbol\":\"ETH\",\"slug\":\"ethereum\",\"circulating_supply\":106575904.1866,\"total_supply\":106575904.1866,\"max_supply\":null,\"date_added\":\"2015-08-07T00:00:00.000Z\",\"num_market_pairs\":5395,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":2,\"last_updated\":\"2019-06-21T03:33:19.000Z\",\"quote\":{\"USD\":{\"price\":279.50952433,\"volume_24h\":7513435431.32225,\"percent_change_1h\":-0.541476,\"percent_change_24h\":3.58826,\"percent_change_7d\":8.99539,\"market_cap\":29788980284.236217,\"last_updated\":\"2019-06-21T03:33:19.000Z\"}}},{\"id\":52,\"name\":\"XRP\",\"symbol\":\"XRP\",\"slug\":\"ripple\",\"circulating_supply\":42501950124,\"total_supply\":99991601899,\"max_supply\":100000000000,\"date_added\":\"2013-08-04T00:00:00.000Z\",\"num_market_pairs\":426,\"tags\":[],\"platform\":null,\"cmc_rank\":3,\"last_updated\":\"2019-06-21T03:33:02.000Z\",\"quote\":{\"USD\":{\"price\":0.436165761699,\"volume_24h\":1470844157.89488,\"percent_change_1h\":-0.214369,\"percent_change_24h\":0.364731,\"percent_change_7d\":9.11704,\"market_cap\":18537895449.527367,\"last_updated\":\"2019-06-21T03:33:02.000Z\"}}},{\"id\":2,\"name\":\"Litecoin\",\"symbol\":\"LTC\",\"slug\":\"litecoin\",\"circulating_supply\":62318750.4246447,\"total_supply\":62318750.4246447,\"max_supply\":84000000,\"date_added\":\"2013-04-28T00:00:00.000Z\",\"num_market_pairs\":568,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":4,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":137.726816416,\"volume_24h\":4081863654.62775,\"percent_change_1h\":0.630391,\"percent_change_24h\":1.24815,\"percent_change_7d\":5.56552,\"market_cap\":8582963099.0095625,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":1831,\"name\":\"Bitcoin Cash\",\"symbol\":\"BCH\",\"slug\":\"bitcoin-cash\",\"circulating_supply\":17849100,\"total_supply\":17849100,\"max_supply\":21000000,\"date_added\":\"2017-07-23T00:00:00.000Z\",\"num_market_pairs\":334,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":5,\"last_updated\":\"2019-06-21T03:33:05.000Z\",\"quote\":{\"USD\":{\"price\":423.827233149,\"volume_24h\":1482883150.80566,\"percent_change_1h\":-0.301844,\"percent_change_24h\":1.83365,\"percent_change_7d\":3.10865,\"market_cap\":7564934667.199816,\"last_updated\":\"2019-06-21T03:33:05.000Z\"}}},{\"id\":1765,\"name\":\"EOS\",\"symbol\":\"EOS\",\"slug\":\"eos\",\"circulating_supply\":919980357.8206,\"total_supply\":1016680363.5009,\"max_supply\":null,\"date_added\":\"2017-07-01T00:00:00.000Z\",\"num_market_pairs\":325,\"tags\":[],\"platform\":null,\"cmc_rank\":6,\"last_updated\":\"2019-06-21T03:33:05.000Z\",\"quote\":{\"USD\":{\"price\":6.98389558232,\"volume_24h\":2164498677.45952,\"percent_change_1h\":-0.504524,\"percent_change_24h\":1.69592,\"percent_change_7d\":8.26297,\"market_cap\":6425046756.8044615,\"last_updated\":\"2019-06-21T03:33:05.000Z\"}}},{\"id\":1839,\"name\":\"Binance Coin\",\"symbol\":\"BNB\",\"slug\":\"binance-coin\",\"circulating_supply\":141175490.242,\"total_supply\":189175490.242,\"max_supply\":null,\"date_added\":\"2017-07-25T00:00:00.000Z\",\"num_market_pairs\":173,\"tags\":[],\"platform\":null,\"cmc_rank\":7,\"last_updated\":\"2019-06-21T03:34:06.000Z\",\"quote\":{\"USD\":{\"price\":36.4924972615,\"volume_24h\":621873377.479583,\"percent_change_1h\":-0.701443,\"percent_change_24h\":4.44787,\"percent_change_7d\":6.061,\"market_cap\":5151846191.047105,\"last_updated\":\"2019-06-21T03:34:06.000Z\"}}},{\"id\":3602,\"name\":\"Bitcoin SV\",\"symbol\":\"BSV\",\"slug\":\"bitcoin-sv\",\"circulating_supply\":17846973.324383,\"total_supply\":17846973.324383,\"max_supply\":21000000,\"date_added\":\"2018-11-09T00:00:00.000Z\",\"num_market_pairs\":126,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":8,\"last_updated\":\"2019-06-21T03:33:10.000Z\",\"quote\":{\"USD\":{\"price\":221.015354605,\"volume_24h\":457443989.638171,\"percent_change_1h\":-0.499717,\"percent_change_24h\":-1.61342,\"percent_change_7d\":6.33904,\"market_cap\":3944455137.914485,\"last_updated\":\"2019-06-21T03:33:10.000Z\"}}},{\"id\":825,\"name\":\"Tether\",\"symbol\":\"USDT\",\"slug\":\"tether\",\"circulating_supply\":3547705309.32656,\"total_supply\":3720057493.36343,\"max_supply\":null,\"date_added\":\"2015-02-25T00:00:00.000Z\",\"num_market_pairs\":2469,\"tags\":[],\"platform\":{\"id\":83,\"name\":\"Omni\",\"symbol\":\"OMNI\",\"slug\":\"omni\",\"token_address\":\"31\"},\"cmc_rank\":9,\"last_updated\":\"2019-06-21T03:33:10.000Z\",\"quote\":{\"USD\":{\"price\":1.00241507143,\"volume_24h\":19007188295.3469,\"percent_change_1h\":0.0510195,\"percent_change_24h\":0.114615,\"percent_change_7d\":-0.0803756,\"market_cap\":3556273271.061174,\"last_updated\":\"2019-06-21T03:33:10.000Z\"}}},{\"id\":512,\"name\":\"Stellar\",\"symbol\":\"XLM\",\"slug\":\"stellar\",\"circulating_supply\":19408944602.6089,\"total_supply\":105082570523.4,\"max_supply\":null,\"date_added\":\"2014-08-05T00:00:00.000Z\",\"num_market_pairs\":269,\"tags\":[],\"platform\":null,\"cmc_rank\":10,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":0.123405368828,\"volume_24h\":295132340.508032,\"percent_change_1h\":0.0967938,\"percent_change_24h\":-0.459943,\"percent_change_7d\":-0.816837,\"market_cap\":2395167967.247171,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":2010,\"name\":\"Cardano\",\"symbol\":\"ADA\",\"slug\":\"cardano\",\"circulating_supply\":25927070538,\"total_supply\":31112483745,\"max_supply\":45000000000,\"date_added\":\"2017-10-01T00:00:00.000Z\",\"num_market_pairs\":85,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":11,\"last_updated\":\"2019-06-21T03:34:05.000Z\",\"quote\":{\"USD\":{\"price\":0.0885581778005,\"volume_24h\":156549814.708529,\"percent_change_1h\":-0.731165,\"percent_change_24h\":-0.211231,\"percent_change_7d\":-1.47028,\"market_cap\":2296054122.550309,\"last_updated\":\"2019-06-21T03:34:05.000Z\"}}},{\"id\":1958,\"name\":\"TRON\",\"symbol\":\"TRX\",\"slug\":\"tron\",\"circulating_supply\":66682072191.4,\"total_supply\":99281283754.3,\"max_supply\":null,\"date_added\":\"2017-09-13T00:00:00.000Z\",\"num_market_pairs\":232,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":12,\"last_updated\":\"2019-06-21T03:33:05.000Z\",\"quote\":{\"USD\":{\"price\":0.0330249952234,\"volume_24h\":614918797.231995,\"percent_change_1h\":-0.884443,\"percent_change_24h\":-1.22905,\"percent_change_7d\":1.61046,\"market_cap\":2202175115.607399,\"last_updated\":\"2019-06-21T03:33:05.000Z\"}}},{\"id\":3957,\"name\":\"UNUS SED LEO\",\"symbol\":\"LEO\",\"slug\":\"unus-sed-leo\",\"circulating_supply\":999498892.9,\"total_supply\":999498892.9,\"max_supply\":null,\"date_added\":\"2019-05-21T00:00:00.000Z\",\"num_market_pairs\":17,\"tags\":[],\"platform\":{\"id\":1027,\"name\":\"Ethereum\",\"symbol\":\"ETH\",\"slug\":\"ethereum\",\"token_address\":\"0x2af5d2ad76741191d15dfe7bf6ac92d4bd912ca3\"},\"cmc_rank\":13,\"last_updated\":\"2019-06-21T03:33:11.000Z\",\"quote\":{\"USD\":{\"price\":1.87480657196,\"volume_24h\":9505221.81089506,\"percent_change_1h\":-0.716534,\"percent_change_24h\":0.843181,\"percent_change_7d\":-2.8353,\"market_cap\":1873867093.075664,\"last_updated\":\"2019-06-21T03:33:11.000Z\"}}},{\"id\":328,\"name\":\"Monero\",\"symbol\":\"XMR\",\"slug\":\"monero\",\"circulating_supply\":17053741.8572567,\"total_supply\":17053741.8572567,\"max_supply\":null,\"date_added\":\"2014-05-21T00:00:00.000Z\",\"num_market_pairs\":131,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":14,\"last_updated\":\"2019-06-21T03:34:03.000Z\",\"quote\":{\"USD\":{\"price\":106.516871364,\"volume_24h\":179755833.84196,\"percent_change_1h\":-0.78865,\"percent_change_24h\":5.61677,\"percent_change_7d\":19.0409,\"market_cap\":1816511227.6842742,\"last_updated\":\"2019-06-21T03:34:03.000Z\"}}},{\"id\":131,\"name\":\"Dash\",\"symbol\":\"DASH\",\"slug\":\"dash\",\"circulating_supply\":8875831.80428042,\"total_supply\":8875831.80428042,\"max_supply\":18900000,\"date_added\":\"2014-02-14T00:00:00.000Z\",\"num_market_pairs\":240,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":15,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":162.943459745,\"volume_24h\":258939072.976876,\"percent_change_1h\":-0.224761,\"percent_change_24h\":0.507912,\"percent_change_7d\":5.75255,\"market_cap\":1446258742.3041575,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":3794,\"name\":\"Cosmos\",\"symbol\":\"ATOM\",\"slug\":\"cosmos\",\"circulating_supply\":190688439.2,\"total_supply\":237928230.821588,\"max_supply\":null,\"date_added\":\"2019-03-14T00:00:00.000Z\",\"num_market_pairs\":69,\"tags\":[],\"platform\":null,\"cmc_rank\":16,\"last_updated\":\"2019-06-21T03:33:10.000Z\",\"quote\":{\"USD\":{\"price\":6.38671230402,\"volume_24h\":69683235.0563532,\"percent_change_1h\":-1.0113,\"percent_change_24h\":-3.26032,\"percent_change_7d\":2.31408,\"market_cap\":1217872200.8730094,\"last_updated\":\"2019-06-21T03:33:10.000Z\"}}},{\"id\":1720,\"name\":\"IOTA\",\"symbol\":\"MIOTA\",\"slug\":\"iota\",\"circulating_supply\":2779530283,\"total_supply\":2779530283,\"max_supply\":2779530283,\"date_added\":\"2017-06-13T00:00:00.000Z\",\"num_market_pairs\":45,\"tags\":[],\"platform\":null,\"cmc_rank\":17,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":0.427869680333,\"volume_24h\":38643365.2189673,\"percent_change_1h\":0.0535702,\"percent_change_24h\":-1.86477,\"percent_change_7d\":-2.42068,\"market_cap\":1189276733.663103,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":1376,\"name\":\"NEO\",\"symbol\":\"NEO\",\"slug\":\"neo\",\"circulating_supply\":70538831,\"total_supply\":100000000,\"max_supply\":100000000,\"date_added\":\"2016-09-08T00:00:00.000Z\",\"num_market_pairs\":183,\"tags\":[],\"platform\":null,\"cmc_rank\":18,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":13.6839576074,\"volume_24h\":405893929.98782,\"percent_change_1h\":-0.703707,\"percent_change_24h\":0.0740388,\"percent_change_7d\":4.76946,\"market_cap\":965250373.079553,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":1321,\"name\":\"Ethereum Classic\",\"symbol\":\"ETC\",\"slug\":\"ethereum-classic\",\"circulating_supply\":111367451,\"total_supply\":111367451,\"max_supply\":210000000,\"date_added\":\"2016-07-24T00:00:00.000Z\",\"num_market_pairs\":197,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":19,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":8.57161879733,\"volume_24h\":656679456.281717,\"percent_change_1h\":-0.59033,\"percent_change_24h\":0.71616,\"percent_change_7d\":1.45468,\"market_cap\":954599336.4023278,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":873,\"name\":\"NEM\",\"symbol\":\"XEM\",\"slug\":\"nem\",\"circulating_supply\":8999999999,\"total_supply\":8999999999,\"max_supply\":null,\"date_added\":\"2015-04-01T00:00:00.000Z\",\"num_market_pairs\":93,\"tags\":[],\"platform\":null,\"cmc_rank\":20,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":0.0866616034982,\"volume_24h\":37179911.9702058,\"percent_change_1h\":-0.587426,\"percent_change_24h\":-0.712618,\"percent_change_7d\":1.07194,\"market_cap\":779954431.3971384,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}}]}";

            var moedas = JsonConvert.DeserializeObject<ListaMoedas>(conteudo).data.Select(s => new MoedaViewModel()
            {
                Id = s.id,
                Nome = s.name,
                Simbolo = s.symbol,
                Rank = s.cmc_rank,
                Preco = s.quote["USD"].price,
            }).ToList();
            return Ok(moedas);
        }
        [HttpGet, Route("cripto-moedas-teste"), Authorize]
        public async Task<IActionResult> CriptoMoedasA()
        {
            // {\"status\":{\"timestamp\":\"2019-06-21T03:34:14.261Z\",\"error_code\":0,\"error_message\":null,\"elapsed\":5,\"credit_count\":1},\"data\":[{\"id\":1,\"name\":\"Bitcoin\",\"symbol\":\"BTC\",\"slug\":\"bitcoin\",\"circulating_supply\":17770925,\"total_supply\":17770925,\"max_supply\":21000000,\"date_added\":\"2013-04-28T00:00:00.000Z\",\"num_market_pairs\":7626,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":1,\"last_updated\":\"2019-06-21T03:33:26.000Z\",\"quote\":{\"USD\":{\"price\":9690.25531837,\"volume_24h\":19389162746.5924,\"percent_change_1h\":-0.524035,\"percent_change_24h\":4.15723,\"percent_change_7d\":17.5997,\"market_cap\":172204800493.6044,\"last_updated\":\"2019-06-21T03:33:26.000Z\"}}},{\"id\":1027,\"name\":\"Ethereum\",\"symbol\":\"ETH\",\"slug\":\"ethereum\",\"circulating_supply\":106575904.1866,\"total_supply\":106575904.1866,\"max_supply\":null,\"date_added\":\"2015-08-07T00:00:00.000Z\",\"num_market_pairs\":5395,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":2,\"last_updated\":\"2019-06-21T03:33:19.000Z\",\"quote\":{\"USD\":{\"price\":279.50952433,\"volume_24h\":7513435431.32225,\"percent_change_1h\":-0.541476,\"percent_change_24h\":3.58826,\"percent_change_7d\":8.99539,\"market_cap\":29788980284.236217,\"last_updated\":\"2019-06-21T03:33:19.000Z\"}}},{\"id\":52,\"name\":\"XRP\",\"symbol\":\"XRP\",\"slug\":\"ripple\",\"circulating_supply\":42501950124,\"total_supply\":99991601899,\"max_supply\":100000000000,\"date_added\":\"2013-08-04T00:00:00.000Z\",\"num_market_pairs\":426,\"tags\":[],\"platform\":null,\"cmc_rank\":3,\"last_updated\":\"2019-06-21T03:33:02.000Z\",\"quote\":{\"USD\":{\"price\":0.436165761699,\"volume_24h\":1470844157.89488,\"percent_change_1h\":-0.214369,\"percent_change_24h\":0.364731,\"percent_change_7d\":9.11704,\"market_cap\":18537895449.527367,\"last_updated\":\"2019-06-21T03:33:02.000Z\"}}},{\"id\":2,\"name\":\"Litecoin\",\"symbol\":\"LTC\",\"slug\":\"litecoin\",\"circulating_supply\":62318750.4246447,\"total_supply\":62318750.4246447,\"max_supply\":84000000,\"date_added\":\"2013-04-28T00:00:00.000Z\",\"num_market_pairs\":568,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":4,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":137.726816416,\"volume_24h\":4081863654.62775,\"percent_change_1h\":0.630391,\"percent_change_24h\":1.24815,\"percent_change_7d\":5.56552,\"market_cap\":8582963099.0095625,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":1831,\"name\":\"Bitcoin Cash\",\"symbol\":\"BCH\",\"slug\":\"bitcoin-cash\",\"circulating_supply\":17849100,\"total_supply\":17849100,\"max_supply\":21000000,\"date_added\":\"2017-07-23T00:00:00.000Z\",\"num_market_pairs\":334,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":5,\"last_updated\":\"2019-06-21T03:33:05.000Z\",\"quote\":{\"USD\":{\"price\":423.827233149,\"volume_24h\":1482883150.80566,\"percent_change_1h\":-0.301844,\"percent_change_24h\":1.83365,\"percent_change_7d\":3.10865,\"market_cap\":7564934667.199816,\"last_updated\":\"2019-06-21T03:33:05.000Z\"}}},{\"id\":1765,\"name\":\"EOS\",\"symbol\":\"EOS\",\"slug\":\"eos\",\"circulating_supply\":919980357.8206,\"total_supply\":1016680363.5009,\"max_supply\":null,\"date_added\":\"2017-07-01T00:00:00.000Z\",\"num_market_pairs\":325,\"tags\":[],\"platform\":null,\"cmc_rank\":6,\"last_updated\":\"2019-06-21T03:33:05.000Z\",\"quote\":{\"USD\":{\"price\":6.98389558232,\"volume_24h\":2164498677.45952,\"percent_change_1h\":-0.504524,\"percent_change_24h\":1.69592,\"percent_change_7d\":8.26297,\"market_cap\":6425046756.8044615,\"last_updated\":\"2019-06-21T03:33:05.000Z\"}}},{\"id\":1839,\"name\":\"Binance Coin\",\"symbol\":\"BNB\",\"slug\":\"binance-coin\",\"circulating_supply\":141175490.242,\"total_supply\":189175490.242,\"max_supply\":null,\"date_added\":\"2017-07-25T00:00:00.000Z\",\"num_market_pairs\":173,\"tags\":[],\"platform\":null,\"cmc_rank\":7,\"last_updated\":\"2019-06-21T03:34:06.000Z\",\"quote\":{\"USD\":{\"price\":36.4924972615,\"volume_24h\":621873377.479583,\"percent_change_1h\":-0.701443,\"percent_change_24h\":4.44787,\"percent_change_7d\":6.061,\"market_cap\":5151846191.047105,\"last_updated\":\"2019-06-21T03:34:06.000Z\"}}},{\"id\":3602,\"name\":\"Bitcoin SV\",\"symbol\":\"BSV\",\"slug\":\"bitcoin-sv\",\"circulating_supply\":17846973.324383,\"total_supply\":17846973.324383,\"max_supply\":21000000,\"date_added\":\"2018-11-09T00:00:00.000Z\",\"num_market_pairs\":126,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":8,\"last_updated\":\"2019-06-21T03:33:10.000Z\",\"quote\":{\"USD\":{\"price\":221.015354605,\"volume_24h\":457443989.638171,\"percent_change_1h\":-0.499717,\"percent_change_24h\":-1.61342,\"percent_change_7d\":6.33904,\"market_cap\":3944455137.914485,\"last_updated\":\"2019-06-21T03:33:10.000Z\"}}},{\"id\":825,\"name\":\"Tether\",\"symbol\":\"USDT\",\"slug\":\"tether\",\"circulating_supply\":3547705309.32656,\"total_supply\":3720057493.36343,\"max_supply\":null,\"date_added\":\"2015-02-25T00:00:00.000Z\",\"num_market_pairs\":2469,\"tags\":[],\"platform\":{\"id\":83,\"name\":\"Omni\",\"symbol\":\"OMNI\",\"slug\":\"omni\",\"token_address\":\"31\"},\"cmc_rank\":9,\"last_updated\":\"2019-06-21T03:33:10.000Z\",\"quote\":{\"USD\":{\"price\":1.00241507143,\"volume_24h\":19007188295.3469,\"percent_change_1h\":0.0510195,\"percent_change_24h\":0.114615,\"percent_change_7d\":-0.0803756,\"market_cap\":3556273271.061174,\"last_updated\":\"2019-06-21T03:33:10.000Z\"}}},{\"id\":512,\"name\":\"Stellar\",\"symbol\":\"XLM\",\"slug\":\"stellar\",\"circulating_supply\":19408944602.6089,\"total_supply\":105082570523.4,\"max_supply\":null,\"date_added\":\"2014-08-05T00:00:00.000Z\",\"num_market_pairs\":269,\"tags\":[],\"platform\":null,\"cmc_rank\":10,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":0.123405368828,\"volume_24h\":295132340.508032,\"percent_change_1h\":0.0967938,\"percent_change_24h\":-0.459943,\"percent_change_7d\":-0.816837,\"market_cap\":2395167967.247171,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":2010,\"name\":\"Cardano\",\"symbol\":\"ADA\",\"slug\":\"cardano\",\"circulating_supply\":25927070538,\"total_supply\":31112483745,\"max_supply\":45000000000,\"date_added\":\"2017-10-01T00:00:00.000Z\",\"num_market_pairs\":85,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":11,\"last_updated\":\"2019-06-21T03:34:05.000Z\",\"quote\":{\"USD\":{\"price\":0.0885581778005,\"volume_24h\":156549814.708529,\"percent_change_1h\":-0.731165,\"percent_change_24h\":-0.211231,\"percent_change_7d\":-1.47028,\"market_cap\":2296054122.550309,\"last_updated\":\"2019-06-21T03:34:05.000Z\"}}},{\"id\":1958,\"name\":\"TRON\",\"symbol\":\"TRX\",\"slug\":\"tron\",\"circulating_supply\":66682072191.4,\"total_supply\":99281283754.3,\"max_supply\":null,\"date_added\":\"2017-09-13T00:00:00.000Z\",\"num_market_pairs\":232,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":12,\"last_updated\":\"2019-06-21T03:33:05.000Z\",\"quote\":{\"USD\":{\"price\":0.0330249952234,\"volume_24h\":614918797.231995,\"percent_change_1h\":-0.884443,\"percent_change_24h\":-1.22905,\"percent_change_7d\":1.61046,\"market_cap\":2202175115.607399,\"last_updated\":\"2019-06-21T03:33:05.000Z\"}}},{\"id\":3957,\"name\":\"UNUS SED LEO\",\"symbol\":\"LEO\",\"slug\":\"unus-sed-leo\",\"circulating_supply\":999498892.9,\"total_supply\":999498892.9,\"max_supply\":null,\"date_added\":\"2019-05-21T00:00:00.000Z\",\"num_market_pairs\":17,\"tags\":[],\"platform\":{\"id\":1027,\"name\":\"Ethereum\",\"symbol\":\"ETH\",\"slug\":\"ethereum\",\"token_address\":\"0x2af5d2ad76741191d15dfe7bf6ac92d4bd912ca3\"},\"cmc_rank\":13,\"last_updated\":\"2019-06-21T03:33:11.000Z\",\"quote\":{\"USD\":{\"price\":1.87480657196,\"volume_24h\":9505221.81089506,\"percent_change_1h\":-0.716534,\"percent_change_24h\":0.843181,\"percent_change_7d\":-2.8353,\"market_cap\":1873867093.075664,\"last_updated\":\"2019-06-21T03:33:11.000Z\"}}},{\"id\":328,\"name\":\"Monero\",\"symbol\":\"XMR\",\"slug\":\"monero\",\"circulating_supply\":17053741.8572567,\"total_supply\":17053741.8572567,\"max_supply\":null,\"date_added\":\"2014-05-21T00:00:00.000Z\",\"num_market_pairs\":131,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":14,\"last_updated\":\"2019-06-21T03:34:03.000Z\",\"quote\":{\"USD\":{\"price\":106.516871364,\"volume_24h\":179755833.84196,\"percent_change_1h\":-0.78865,\"percent_change_24h\":5.61677,\"percent_change_7d\":19.0409,\"market_cap\":1816511227.6842742,\"last_updated\":\"2019-06-21T03:34:03.000Z\"}}},{\"id\":131,\"name\":\"Dash\",\"symbol\":\"DASH\",\"slug\":\"dash\",\"circulating_supply\":8875831.80428042,\"total_supply\":8875831.80428042,\"max_supply\":18900000,\"date_added\":\"2014-02-14T00:00:00.000Z\",\"num_market_pairs\":240,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":15,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":162.943459745,\"volume_24h\":258939072.976876,\"percent_change_1h\":-0.224761,\"percent_change_24h\":0.507912,\"percent_change_7d\":5.75255,\"market_cap\":1446258742.3041575,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":3794,\"name\":\"Cosmos\",\"symbol\":\"ATOM\",\"slug\":\"cosmos\",\"circulating_supply\":190688439.2,\"total_supply\":237928230.821588,\"max_supply\":null,\"date_added\":\"2019-03-14T00:00:00.000Z\",\"num_market_pairs\":69,\"tags\":[],\"platform\":null,\"cmc_rank\":16,\"last_updated\":\"2019-06-21T03:33:10.000Z\",\"quote\":{\"USD\":{\"price\":6.38671230402,\"volume_24h\":69683235.0563532,\"percent_change_1h\":-1.0113,\"percent_change_24h\":-3.26032,\"percent_change_7d\":2.31408,\"market_cap\":1217872200.8730094,\"last_updated\":\"2019-06-21T03:33:10.000Z\"}}},{\"id\":1720,\"name\":\"IOTA\",\"symbol\":\"MIOTA\",\"slug\":\"iota\",\"circulating_supply\":2779530283,\"total_supply\":2779530283,\"max_supply\":2779530283,\"date_added\":\"2017-06-13T00:00:00.000Z\",\"num_market_pairs\":45,\"tags\":[],\"platform\":null,\"cmc_rank\":17,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":0.427869680333,\"volume_24h\":38643365.2189673,\"percent_change_1h\":0.0535702,\"percent_change_24h\":-1.86477,\"percent_change_7d\":-2.42068,\"market_cap\":1189276733.663103,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":1376,\"name\":\"NEO\",\"symbol\":\"NEO\",\"slug\":\"neo\",\"circulating_supply\":70538831,\"total_supply\":100000000,\"max_supply\":100000000,\"date_added\":\"2016-09-08T00:00:00.000Z\",\"num_market_pairs\":183,\"tags\":[],\"platform\":null,\"cmc_rank\":18,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":13.6839576074,\"volume_24h\":405893929.98782,\"percent_change_1h\":-0.703707,\"percent_change_24h\":0.0740388,\"percent_change_7d\":4.76946,\"market_cap\":965250373.079553,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":1321,\"name\":\"Ethereum Classic\",\"symbol\":\"ETC\",\"slug\":\"ethereum-classic\",\"circulating_supply\":111367451,\"total_supply\":111367451,\"max_supply\":210000000,\"date_added\":\"2016-07-24T00:00:00.000Z\",\"num_market_pairs\":197,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":19,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":8.57161879733,\"volume_24h\":656679456.281717,\"percent_change_1h\":-0.59033,\"percent_change_24h\":0.71616,\"percent_change_7d\":1.45468,\"market_cap\":954599336.4023278,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":873,\"name\":\"NEM\",\"symbol\":\"XEM\",\"slug\":\"nem\",\"circulating_supply\":8999999999,\"total_supply\":8999999999,\"max_supply\":null,\"date_added\":\"2015-04-01T00:00:00.000Z\",\"num_market_pairs\":93,\"tags\":[],\"platform\":null,\"cmc_rank\":20,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":0.0866616034982,\"volume_24h\":37179911.9702058,\"percent_change_1h\":-0.587426,\"percent_change_24h\":-0.712618,\"percent_change_7d\":1.07194,\"market_cap\":779954431.3971384,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}}]}
            // Free key with several limits - Get another at https://coinmarketcap.com/pt-br/
            //HttpClient client = new HttpClient();
            //client.DefaultRequestHeaders.Add("X-CMC_PRO_API_KEY", "9758b4ec-a00e-4cc3-94e3-f74cdf061516");
            // var conteudo = await client.GetStringAsync("https://pro-api.coinmarketcap.com/v1/cryptocurrency/listings/latest?start=1&limit=20");

            // Without internet test
            var conteudo = "{\"status\":{\"timestamp\":\"2019-06-21T03:34:14.261Z\",\"error_code\":0,\"error_message\":null,\"elapsed\":5,\"credit_count\":1},\"data\":[{\"id\":1,\"name\":\"Bitcoin\",\"symbol\":\"BTC\",\"slug\":\"bitcoin\",\"circulating_supply\":17770925,\"total_supply\":17770925,\"max_supply\":21000000,\"date_added\":\"2013-04-28T00:00:00.000Z\",\"num_market_pairs\":7626,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":1,\"last_updated\":\"2019-06-21T03:33:26.000Z\",\"quote\":{\"USD\":{\"price\":9690.25531837,\"volume_24h\":19389162746.5924,\"percent_change_1h\":-0.524035,\"percent_change_24h\":4.15723,\"percent_change_7d\":17.5997,\"market_cap\":172204800493.6044,\"last_updated\":\"2019-06-21T03:33:26.000Z\"}}},{\"id\":1027,\"name\":\"Ethereum\",\"symbol\":\"ETH\",\"slug\":\"ethereum\",\"circulating_supply\":106575904.1866,\"total_supply\":106575904.1866,\"max_supply\":null,\"date_added\":\"2015-08-07T00:00:00.000Z\",\"num_market_pairs\":5395,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":2,\"last_updated\":\"2019-06-21T03:33:19.000Z\",\"quote\":{\"USD\":{\"price\":279.50952433,\"volume_24h\":7513435431.32225,\"percent_change_1h\":-0.541476,\"percent_change_24h\":3.58826,\"percent_change_7d\":8.99539,\"market_cap\":29788980284.236217,\"last_updated\":\"2019-06-21T03:33:19.000Z\"}}},{\"id\":52,\"name\":\"XRP\",\"symbol\":\"XRP\",\"slug\":\"ripple\",\"circulating_supply\":42501950124,\"total_supply\":99991601899,\"max_supply\":100000000000,\"date_added\":\"2013-08-04T00:00:00.000Z\",\"num_market_pairs\":426,\"tags\":[],\"platform\":null,\"cmc_rank\":3,\"last_updated\":\"2019-06-21T03:33:02.000Z\",\"quote\":{\"USD\":{\"price\":0.436165761699,\"volume_24h\":1470844157.89488,\"percent_change_1h\":-0.214369,\"percent_change_24h\":0.364731,\"percent_change_7d\":9.11704,\"market_cap\":18537895449.527367,\"last_updated\":\"2019-06-21T03:33:02.000Z\"}}},{\"id\":2,\"name\":\"Litecoin\",\"symbol\":\"LTC\",\"slug\":\"litecoin\",\"circulating_supply\":62318750.4246447,\"total_supply\":62318750.4246447,\"max_supply\":84000000,\"date_added\":\"2013-04-28T00:00:00.000Z\",\"num_market_pairs\":568,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":4,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":137.726816416,\"volume_24h\":4081863654.62775,\"percent_change_1h\":0.630391,\"percent_change_24h\":1.24815,\"percent_change_7d\":5.56552,\"market_cap\":8582963099.0095625,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":1831,\"name\":\"Bitcoin Cash\",\"symbol\":\"BCH\",\"slug\":\"bitcoin-cash\",\"circulating_supply\":17849100,\"total_supply\":17849100,\"max_supply\":21000000,\"date_added\":\"2017-07-23T00:00:00.000Z\",\"num_market_pairs\":334,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":5,\"last_updated\":\"2019-06-21T03:33:05.000Z\",\"quote\":{\"USD\":{\"price\":423.827233149,\"volume_24h\":1482883150.80566,\"percent_change_1h\":-0.301844,\"percent_change_24h\":1.83365,\"percent_change_7d\":3.10865,\"market_cap\":7564934667.199816,\"last_updated\":\"2019-06-21T03:33:05.000Z\"}}},{\"id\":1765,\"name\":\"EOS\",\"symbol\":\"EOS\",\"slug\":\"eos\",\"circulating_supply\":919980357.8206,\"total_supply\":1016680363.5009,\"max_supply\":null,\"date_added\":\"2017-07-01T00:00:00.000Z\",\"num_market_pairs\":325,\"tags\":[],\"platform\":null,\"cmc_rank\":6,\"last_updated\":\"2019-06-21T03:33:05.000Z\",\"quote\":{\"USD\":{\"price\":6.98389558232,\"volume_24h\":2164498677.45952,\"percent_change_1h\":-0.504524,\"percent_change_24h\":1.69592,\"percent_change_7d\":8.26297,\"market_cap\":6425046756.8044615,\"last_updated\":\"2019-06-21T03:33:05.000Z\"}}},{\"id\":1839,\"name\":\"Binance Coin\",\"symbol\":\"BNB\",\"slug\":\"binance-coin\",\"circulating_supply\":141175490.242,\"total_supply\":189175490.242,\"max_supply\":null,\"date_added\":\"2017-07-25T00:00:00.000Z\",\"num_market_pairs\":173,\"tags\":[],\"platform\":null,\"cmc_rank\":7,\"last_updated\":\"2019-06-21T03:34:06.000Z\",\"quote\":{\"USD\":{\"price\":36.4924972615,\"volume_24h\":621873377.479583,\"percent_change_1h\":-0.701443,\"percent_change_24h\":4.44787,\"percent_change_7d\":6.061,\"market_cap\":5151846191.047105,\"last_updated\":\"2019-06-21T03:34:06.000Z\"}}},{\"id\":3602,\"name\":\"Bitcoin SV\",\"symbol\":\"BSV\",\"slug\":\"bitcoin-sv\",\"circulating_supply\":17846973.324383,\"total_supply\":17846973.324383,\"max_supply\":21000000,\"date_added\":\"2018-11-09T00:00:00.000Z\",\"num_market_pairs\":126,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":8,\"last_updated\":\"2019-06-21T03:33:10.000Z\",\"quote\":{\"USD\":{\"price\":221.015354605,\"volume_24h\":457443989.638171,\"percent_change_1h\":-0.499717,\"percent_change_24h\":-1.61342,\"percent_change_7d\":6.33904,\"market_cap\":3944455137.914485,\"last_updated\":\"2019-06-21T03:33:10.000Z\"}}},{\"id\":825,\"name\":\"Tether\",\"symbol\":\"USDT\",\"slug\":\"tether\",\"circulating_supply\":3547705309.32656,\"total_supply\":3720057493.36343,\"max_supply\":null,\"date_added\":\"2015-02-25T00:00:00.000Z\",\"num_market_pairs\":2469,\"tags\":[],\"platform\":{\"id\":83,\"name\":\"Omni\",\"symbol\":\"OMNI\",\"slug\":\"omni\",\"token_address\":\"31\"},\"cmc_rank\":9,\"last_updated\":\"2019-06-21T03:33:10.000Z\",\"quote\":{\"USD\":{\"price\":1.00241507143,\"volume_24h\":19007188295.3469,\"percent_change_1h\":0.0510195,\"percent_change_24h\":0.114615,\"percent_change_7d\":-0.0803756,\"market_cap\":3556273271.061174,\"last_updated\":\"2019-06-21T03:33:10.000Z\"}}},{\"id\":512,\"name\":\"Stellar\",\"symbol\":\"XLM\",\"slug\":\"stellar\",\"circulating_supply\":19408944602.6089,\"total_supply\":105082570523.4,\"max_supply\":null,\"date_added\":\"2014-08-05T00:00:00.000Z\",\"num_market_pairs\":269,\"tags\":[],\"platform\":null,\"cmc_rank\":10,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":0.123405368828,\"volume_24h\":295132340.508032,\"percent_change_1h\":0.0967938,\"percent_change_24h\":-0.459943,\"percent_change_7d\":-0.816837,\"market_cap\":2395167967.247171,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":2010,\"name\":\"Cardano\",\"symbol\":\"ADA\",\"slug\":\"cardano\",\"circulating_supply\":25927070538,\"total_supply\":31112483745,\"max_supply\":45000000000,\"date_added\":\"2017-10-01T00:00:00.000Z\",\"num_market_pairs\":85,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":11,\"last_updated\":\"2019-06-21T03:34:05.000Z\",\"quote\":{\"USD\":{\"price\":0.0885581778005,\"volume_24h\":156549814.708529,\"percent_change_1h\":-0.731165,\"percent_change_24h\":-0.211231,\"percent_change_7d\":-1.47028,\"market_cap\":2296054122.550309,\"last_updated\":\"2019-06-21T03:34:05.000Z\"}}},{\"id\":1958,\"name\":\"TRON\",\"symbol\":\"TRX\",\"slug\":\"tron\",\"circulating_supply\":66682072191.4,\"total_supply\":99281283754.3,\"max_supply\":null,\"date_added\":\"2017-09-13T00:00:00.000Z\",\"num_market_pairs\":232,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":12,\"last_updated\":\"2019-06-21T03:33:05.000Z\",\"quote\":{\"USD\":{\"price\":0.0330249952234,\"volume_24h\":614918797.231995,\"percent_change_1h\":-0.884443,\"percent_change_24h\":-1.22905,\"percent_change_7d\":1.61046,\"market_cap\":2202175115.607399,\"last_updated\":\"2019-06-21T03:33:05.000Z\"}}},{\"id\":3957,\"name\":\"UNUS SED LEO\",\"symbol\":\"LEO\",\"slug\":\"unus-sed-leo\",\"circulating_supply\":999498892.9,\"total_supply\":999498892.9,\"max_supply\":null,\"date_added\":\"2019-05-21T00:00:00.000Z\",\"num_market_pairs\":17,\"tags\":[],\"platform\":{\"id\":1027,\"name\":\"Ethereum\",\"symbol\":\"ETH\",\"slug\":\"ethereum\",\"token_address\":\"0x2af5d2ad76741191d15dfe7bf6ac92d4bd912ca3\"},\"cmc_rank\":13,\"last_updated\":\"2019-06-21T03:33:11.000Z\",\"quote\":{\"USD\":{\"price\":1.87480657196,\"volume_24h\":9505221.81089506,\"percent_change_1h\":-0.716534,\"percent_change_24h\":0.843181,\"percent_change_7d\":-2.8353,\"market_cap\":1873867093.075664,\"last_updated\":\"2019-06-21T03:33:11.000Z\"}}},{\"id\":328,\"name\":\"Monero\",\"symbol\":\"XMR\",\"slug\":\"monero\",\"circulating_supply\":17053741.8572567,\"total_supply\":17053741.8572567,\"max_supply\":null,\"date_added\":\"2014-05-21T00:00:00.000Z\",\"num_market_pairs\":131,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":14,\"last_updated\":\"2019-06-21T03:34:03.000Z\",\"quote\":{\"USD\":{\"price\":106.516871364,\"volume_24h\":179755833.84196,\"percent_change_1h\":-0.78865,\"percent_change_24h\":5.61677,\"percent_change_7d\":19.0409,\"market_cap\":1816511227.6842742,\"last_updated\":\"2019-06-21T03:34:03.000Z\"}}},{\"id\":131,\"name\":\"Dash\",\"symbol\":\"DASH\",\"slug\":\"dash\",\"circulating_supply\":8875831.80428042,\"total_supply\":8875831.80428042,\"max_supply\":18900000,\"date_added\":\"2014-02-14T00:00:00.000Z\",\"num_market_pairs\":240,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":15,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":162.943459745,\"volume_24h\":258939072.976876,\"percent_change_1h\":-0.224761,\"percent_change_24h\":0.507912,\"percent_change_7d\":5.75255,\"market_cap\":1446258742.3041575,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":3794,\"name\":\"Cosmos\",\"symbol\":\"ATOM\",\"slug\":\"cosmos\",\"circulating_supply\":190688439.2,\"total_supply\":237928230.821588,\"max_supply\":null,\"date_added\":\"2019-03-14T00:00:00.000Z\",\"num_market_pairs\":69,\"tags\":[],\"platform\":null,\"cmc_rank\":16,\"last_updated\":\"2019-06-21T03:33:10.000Z\",\"quote\":{\"USD\":{\"price\":6.38671230402,\"volume_24h\":69683235.0563532,\"percent_change_1h\":-1.0113,\"percent_change_24h\":-3.26032,\"percent_change_7d\":2.31408,\"market_cap\":1217872200.8730094,\"last_updated\":\"2019-06-21T03:33:10.000Z\"}}},{\"id\":1720,\"name\":\"IOTA\",\"symbol\":\"MIOTA\",\"slug\":\"iota\",\"circulating_supply\":2779530283,\"total_supply\":2779530283,\"max_supply\":2779530283,\"date_added\":\"2017-06-13T00:00:00.000Z\",\"num_market_pairs\":45,\"tags\":[],\"platform\":null,\"cmc_rank\":17,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":0.427869680333,\"volume_24h\":38643365.2189673,\"percent_change_1h\":0.0535702,\"percent_change_24h\":-1.86477,\"percent_change_7d\":-2.42068,\"market_cap\":1189276733.663103,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":1376,\"name\":\"NEO\",\"symbol\":\"NEO\",\"slug\":\"neo\",\"circulating_supply\":70538831,\"total_supply\":100000000,\"max_supply\":100000000,\"date_added\":\"2016-09-08T00:00:00.000Z\",\"num_market_pairs\":183,\"tags\":[],\"platform\":null,\"cmc_rank\":18,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":13.6839576074,\"volume_24h\":405893929.98782,\"percent_change_1h\":-0.703707,\"percent_change_24h\":0.0740388,\"percent_change_7d\":4.76946,\"market_cap\":965250373.079553,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":1321,\"name\":\"Ethereum Classic\",\"symbol\":\"ETC\",\"slug\":\"ethereum-classic\",\"circulating_supply\":111367451,\"total_supply\":111367451,\"max_supply\":210000000,\"date_added\":\"2016-07-24T00:00:00.000Z\",\"num_market_pairs\":197,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":19,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":8.57161879733,\"volume_24h\":656679456.281717,\"percent_change_1h\":-0.59033,\"percent_change_24h\":0.71616,\"percent_change_7d\":1.45468,\"market_cap\":954599336.4023278,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":873,\"name\":\"NEM\",\"symbol\":\"XEM\",\"slug\":\"nem\",\"circulating_supply\":8999999999,\"total_supply\":8999999999,\"max_supply\":null,\"date_added\":\"2015-04-01T00:00:00.000Z\",\"num_market_pairs\":93,\"tags\":[],\"platform\":null,\"cmc_rank\":20,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":0.0866616034982,\"volume_24h\":37179911.9702058,\"percent_change_1h\":-0.587426,\"percent_change_24h\":-0.712618,\"percent_change_7d\":1.07194,\"market_cap\":779954431.3971384,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}}]}";

            var moedas = JsonConvert.DeserializeObject<ListaMoedas>(conteudo).data.Select(s => new MoedaViewModel()
            {
                Id = s.id,
                Nome = s.name,
                Simbolo = s.symbol,
                Rank = s.cmc_rank,
                Preco = s.quote["USD"].price,
            }).ToList();
            return Ok(moedas);
        }


        [HttpPut, Route("atualizar-cripto-moeda"), Authorize(Policy = "Escrita")]
        public IActionResult AtualizarCriptoMoedas()
        {
            return Ok(new
            {
                Moeda = "BTC",
                NovoValor = 9700,
                Sucesso = true
            });
        }

        [HttpGet, Route("teste-cripto-moedas")]
        public async Task<IActionResult> CriptoMoedasTeste()
        {
            // {\"status\":{\"timestamp\":\"2019-06-21T03:34:14.261Z\",\"error_code\":0,\"error_message\":null,\"elapsed\":5,\"credit_count\":1},\"data\":[{\"id\":1,\"name\":\"Bitcoin\",\"symbol\":\"BTC\",\"slug\":\"bitcoin\",\"circulating_supply\":17770925,\"total_supply\":17770925,\"max_supply\":21000000,\"date_added\":\"2013-04-28T00:00:00.000Z\",\"num_market_pairs\":7626,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":1,\"last_updated\":\"2019-06-21T03:33:26.000Z\",\"quote\":{\"USD\":{\"price\":9690.25531837,\"volume_24h\":19389162746.5924,\"percent_change_1h\":-0.524035,\"percent_change_24h\":4.15723,\"percent_change_7d\":17.5997,\"market_cap\":172204800493.6044,\"last_updated\":\"2019-06-21T03:33:26.000Z\"}}},{\"id\":1027,\"name\":\"Ethereum\",\"symbol\":\"ETH\",\"slug\":\"ethereum\",\"circulating_supply\":106575904.1866,\"total_supply\":106575904.1866,\"max_supply\":null,\"date_added\":\"2015-08-07T00:00:00.000Z\",\"num_market_pairs\":5395,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":2,\"last_updated\":\"2019-06-21T03:33:19.000Z\",\"quote\":{\"USD\":{\"price\":279.50952433,\"volume_24h\":7513435431.32225,\"percent_change_1h\":-0.541476,\"percent_change_24h\":3.58826,\"percent_change_7d\":8.99539,\"market_cap\":29788980284.236217,\"last_updated\":\"2019-06-21T03:33:19.000Z\"}}},{\"id\":52,\"name\":\"XRP\",\"symbol\":\"XRP\",\"slug\":\"ripple\",\"circulating_supply\":42501950124,\"total_supply\":99991601899,\"max_supply\":100000000000,\"date_added\":\"2013-08-04T00:00:00.000Z\",\"num_market_pairs\":426,\"tags\":[],\"platform\":null,\"cmc_rank\":3,\"last_updated\":\"2019-06-21T03:33:02.000Z\",\"quote\":{\"USD\":{\"price\":0.436165761699,\"volume_24h\":1470844157.89488,\"percent_change_1h\":-0.214369,\"percent_change_24h\":0.364731,\"percent_change_7d\":9.11704,\"market_cap\":18537895449.527367,\"last_updated\":\"2019-06-21T03:33:02.000Z\"}}},{\"id\":2,\"name\":\"Litecoin\",\"symbol\":\"LTC\",\"slug\":\"litecoin\",\"circulating_supply\":62318750.4246447,\"total_supply\":62318750.4246447,\"max_supply\":84000000,\"date_added\":\"2013-04-28T00:00:00.000Z\",\"num_market_pairs\":568,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":4,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":137.726816416,\"volume_24h\":4081863654.62775,\"percent_change_1h\":0.630391,\"percent_change_24h\":1.24815,\"percent_change_7d\":5.56552,\"market_cap\":8582963099.0095625,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":1831,\"name\":\"Bitcoin Cash\",\"symbol\":\"BCH\",\"slug\":\"bitcoin-cash\",\"circulating_supply\":17849100,\"total_supply\":17849100,\"max_supply\":21000000,\"date_added\":\"2017-07-23T00:00:00.000Z\",\"num_market_pairs\":334,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":5,\"last_updated\":\"2019-06-21T03:33:05.000Z\",\"quote\":{\"USD\":{\"price\":423.827233149,\"volume_24h\":1482883150.80566,\"percent_change_1h\":-0.301844,\"percent_change_24h\":1.83365,\"percent_change_7d\":3.10865,\"market_cap\":7564934667.199816,\"last_updated\":\"2019-06-21T03:33:05.000Z\"}}},{\"id\":1765,\"name\":\"EOS\",\"symbol\":\"EOS\",\"slug\":\"eos\",\"circulating_supply\":919980357.8206,\"total_supply\":1016680363.5009,\"max_supply\":null,\"date_added\":\"2017-07-01T00:00:00.000Z\",\"num_market_pairs\":325,\"tags\":[],\"platform\":null,\"cmc_rank\":6,\"last_updated\":\"2019-06-21T03:33:05.000Z\",\"quote\":{\"USD\":{\"price\":6.98389558232,\"volume_24h\":2164498677.45952,\"percent_change_1h\":-0.504524,\"percent_change_24h\":1.69592,\"percent_change_7d\":8.26297,\"market_cap\":6425046756.8044615,\"last_updated\":\"2019-06-21T03:33:05.000Z\"}}},{\"id\":1839,\"name\":\"Binance Coin\",\"symbol\":\"BNB\",\"slug\":\"binance-coin\",\"circulating_supply\":141175490.242,\"total_supply\":189175490.242,\"max_supply\":null,\"date_added\":\"2017-07-25T00:00:00.000Z\",\"num_market_pairs\":173,\"tags\":[],\"platform\":null,\"cmc_rank\":7,\"last_updated\":\"2019-06-21T03:34:06.000Z\",\"quote\":{\"USD\":{\"price\":36.4924972615,\"volume_24h\":621873377.479583,\"percent_change_1h\":-0.701443,\"percent_change_24h\":4.44787,\"percent_change_7d\":6.061,\"market_cap\":5151846191.047105,\"last_updated\":\"2019-06-21T03:34:06.000Z\"}}},{\"id\":3602,\"name\":\"Bitcoin SV\",\"symbol\":\"BSV\",\"slug\":\"bitcoin-sv\",\"circulating_supply\":17846973.324383,\"total_supply\":17846973.324383,\"max_supply\":21000000,\"date_added\":\"2018-11-09T00:00:00.000Z\",\"num_market_pairs\":126,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":8,\"last_updated\":\"2019-06-21T03:33:10.000Z\",\"quote\":{\"USD\":{\"price\":221.015354605,\"volume_24h\":457443989.638171,\"percent_change_1h\":-0.499717,\"percent_change_24h\":-1.61342,\"percent_change_7d\":6.33904,\"market_cap\":3944455137.914485,\"last_updated\":\"2019-06-21T03:33:10.000Z\"}}},{\"id\":825,\"name\":\"Tether\",\"symbol\":\"USDT\",\"slug\":\"tether\",\"circulating_supply\":3547705309.32656,\"total_supply\":3720057493.36343,\"max_supply\":null,\"date_added\":\"2015-02-25T00:00:00.000Z\",\"num_market_pairs\":2469,\"tags\":[],\"platform\":{\"id\":83,\"name\":\"Omni\",\"symbol\":\"OMNI\",\"slug\":\"omni\",\"token_address\":\"31\"},\"cmc_rank\":9,\"last_updated\":\"2019-06-21T03:33:10.000Z\",\"quote\":{\"USD\":{\"price\":1.00241507143,\"volume_24h\":19007188295.3469,\"percent_change_1h\":0.0510195,\"percent_change_24h\":0.114615,\"percent_change_7d\":-0.0803756,\"market_cap\":3556273271.061174,\"last_updated\":\"2019-06-21T03:33:10.000Z\"}}},{\"id\":512,\"name\":\"Stellar\",\"symbol\":\"XLM\",\"slug\":\"stellar\",\"circulating_supply\":19408944602.6089,\"total_supply\":105082570523.4,\"max_supply\":null,\"date_added\":\"2014-08-05T00:00:00.000Z\",\"num_market_pairs\":269,\"tags\":[],\"platform\":null,\"cmc_rank\":10,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":0.123405368828,\"volume_24h\":295132340.508032,\"percent_change_1h\":0.0967938,\"percent_change_24h\":-0.459943,\"percent_change_7d\":-0.816837,\"market_cap\":2395167967.247171,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":2010,\"name\":\"Cardano\",\"symbol\":\"ADA\",\"slug\":\"cardano\",\"circulating_supply\":25927070538,\"total_supply\":31112483745,\"max_supply\":45000000000,\"date_added\":\"2017-10-01T00:00:00.000Z\",\"num_market_pairs\":85,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":11,\"last_updated\":\"2019-06-21T03:34:05.000Z\",\"quote\":{\"USD\":{\"price\":0.0885581778005,\"volume_24h\":156549814.708529,\"percent_change_1h\":-0.731165,\"percent_change_24h\":-0.211231,\"percent_change_7d\":-1.47028,\"market_cap\":2296054122.550309,\"last_updated\":\"2019-06-21T03:34:05.000Z\"}}},{\"id\":1958,\"name\":\"TRON\",\"symbol\":\"TRX\",\"slug\":\"tron\",\"circulating_supply\":66682072191.4,\"total_supply\":99281283754.3,\"max_supply\":null,\"date_added\":\"2017-09-13T00:00:00.000Z\",\"num_market_pairs\":232,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":12,\"last_updated\":\"2019-06-21T03:33:05.000Z\",\"quote\":{\"USD\":{\"price\":0.0330249952234,\"volume_24h\":614918797.231995,\"percent_change_1h\":-0.884443,\"percent_change_24h\":-1.22905,\"percent_change_7d\":1.61046,\"market_cap\":2202175115.607399,\"last_updated\":\"2019-06-21T03:33:05.000Z\"}}},{\"id\":3957,\"name\":\"UNUS SED LEO\",\"symbol\":\"LEO\",\"slug\":\"unus-sed-leo\",\"circulating_supply\":999498892.9,\"total_supply\":999498892.9,\"max_supply\":null,\"date_added\":\"2019-05-21T00:00:00.000Z\",\"num_market_pairs\":17,\"tags\":[],\"platform\":{\"id\":1027,\"name\":\"Ethereum\",\"symbol\":\"ETH\",\"slug\":\"ethereum\",\"token_address\":\"0x2af5d2ad76741191d15dfe7bf6ac92d4bd912ca3\"},\"cmc_rank\":13,\"last_updated\":\"2019-06-21T03:33:11.000Z\",\"quote\":{\"USD\":{\"price\":1.87480657196,\"volume_24h\":9505221.81089506,\"percent_change_1h\":-0.716534,\"percent_change_24h\":0.843181,\"percent_change_7d\":-2.8353,\"market_cap\":1873867093.075664,\"last_updated\":\"2019-06-21T03:33:11.000Z\"}}},{\"id\":328,\"name\":\"Monero\",\"symbol\":\"XMR\",\"slug\":\"monero\",\"circulating_supply\":17053741.8572567,\"total_supply\":17053741.8572567,\"max_supply\":null,\"date_added\":\"2014-05-21T00:00:00.000Z\",\"num_market_pairs\":131,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":14,\"last_updated\":\"2019-06-21T03:34:03.000Z\",\"quote\":{\"USD\":{\"price\":106.516871364,\"volume_24h\":179755833.84196,\"percent_change_1h\":-0.78865,\"percent_change_24h\":5.61677,\"percent_change_7d\":19.0409,\"market_cap\":1816511227.6842742,\"last_updated\":\"2019-06-21T03:34:03.000Z\"}}},{\"id\":131,\"name\":\"Dash\",\"symbol\":\"DASH\",\"slug\":\"dash\",\"circulating_supply\":8875831.80428042,\"total_supply\":8875831.80428042,\"max_supply\":18900000,\"date_added\":\"2014-02-14T00:00:00.000Z\",\"num_market_pairs\":240,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":15,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":162.943459745,\"volume_24h\":258939072.976876,\"percent_change_1h\":-0.224761,\"percent_change_24h\":0.507912,\"percent_change_7d\":5.75255,\"market_cap\":1446258742.3041575,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":3794,\"name\":\"Cosmos\",\"symbol\":\"ATOM\",\"slug\":\"cosmos\",\"circulating_supply\":190688439.2,\"total_supply\":237928230.821588,\"max_supply\":null,\"date_added\":\"2019-03-14T00:00:00.000Z\",\"num_market_pairs\":69,\"tags\":[],\"platform\":null,\"cmc_rank\":16,\"last_updated\":\"2019-06-21T03:33:10.000Z\",\"quote\":{\"USD\":{\"price\":6.38671230402,\"volume_24h\":69683235.0563532,\"percent_change_1h\":-1.0113,\"percent_change_24h\":-3.26032,\"percent_change_7d\":2.31408,\"market_cap\":1217872200.8730094,\"last_updated\":\"2019-06-21T03:33:10.000Z\"}}},{\"id\":1720,\"name\":\"IOTA\",\"symbol\":\"MIOTA\",\"slug\":\"iota\",\"circulating_supply\":2779530283,\"total_supply\":2779530283,\"max_supply\":2779530283,\"date_added\":\"2017-06-13T00:00:00.000Z\",\"num_market_pairs\":45,\"tags\":[],\"platform\":null,\"cmc_rank\":17,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":0.427869680333,\"volume_24h\":38643365.2189673,\"percent_change_1h\":0.0535702,\"percent_change_24h\":-1.86477,\"percent_change_7d\":-2.42068,\"market_cap\":1189276733.663103,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":1376,\"name\":\"NEO\",\"symbol\":\"NEO\",\"slug\":\"neo\",\"circulating_supply\":70538831,\"total_supply\":100000000,\"max_supply\":100000000,\"date_added\":\"2016-09-08T00:00:00.000Z\",\"num_market_pairs\":183,\"tags\":[],\"platform\":null,\"cmc_rank\":18,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":13.6839576074,\"volume_24h\":405893929.98782,\"percent_change_1h\":-0.703707,\"percent_change_24h\":0.0740388,\"percent_change_7d\":4.76946,\"market_cap\":965250373.079553,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":1321,\"name\":\"Ethereum Classic\",\"symbol\":\"ETC\",\"slug\":\"ethereum-classic\",\"circulating_supply\":111367451,\"total_supply\":111367451,\"max_supply\":210000000,\"date_added\":\"2016-07-24T00:00:00.000Z\",\"num_market_pairs\":197,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":19,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":8.57161879733,\"volume_24h\":656679456.281717,\"percent_change_1h\":-0.59033,\"percent_change_24h\":0.71616,\"percent_change_7d\":1.45468,\"market_cap\":954599336.4023278,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":873,\"name\":\"NEM\",\"symbol\":\"XEM\",\"slug\":\"nem\",\"circulating_supply\":8999999999,\"total_supply\":8999999999,\"max_supply\":null,\"date_added\":\"2015-04-01T00:00:00.000Z\",\"num_market_pairs\":93,\"tags\":[],\"platform\":null,\"cmc_rank\":20,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":0.0866616034982,\"volume_24h\":37179911.9702058,\"percent_change_1h\":-0.587426,\"percent_change_24h\":-0.712618,\"percent_change_7d\":1.07194,\"market_cap\":779954431.3971384,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}}]}
            // Free key with several limits - Get another at https://coinmarketcap.com/pt-br/
            //HttpClient client = new HttpClient();
            //client.DefaultRequestHeaders.Add("X-CMC_PRO_API_KEY", "9758b4ec-a00e-4cc3-94e3-f74cdf061516");
            // var conteudo = await client.GetStringAsync("https://pro-api.coinmarketcap.com/v1/cryptocurrency/listings/latest?start=1&limit=20");

            // Without internet test
            var conteudo = "{\"status\":{\"timestamp\":\"2019-06-21T03:34:14.261Z\",\"error_code\":0,\"error_message\":null,\"elapsed\":5,\"credit_count\":1},\"data\":[{\"id\":1,\"name\":\"Bitcoin\",\"symbol\":\"BTC\",\"slug\":\"bitcoin\",\"circulating_supply\":17770925,\"total_supply\":17770925,\"max_supply\":21000000,\"date_added\":\"2013-04-28T00:00:00.000Z\",\"num_market_pairs\":7626,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":1,\"last_updated\":\"2019-06-21T03:33:26.000Z\",\"quote\":{\"USD\":{\"price\":9690.25531837,\"volume_24h\":19389162746.5924,\"percent_change_1h\":-0.524035,\"percent_change_24h\":4.15723,\"percent_change_7d\":17.5997,\"market_cap\":172204800493.6044,\"last_updated\":\"2019-06-21T03:33:26.000Z\"}}},{\"id\":1027,\"name\":\"Ethereum\",\"symbol\":\"ETH\",\"slug\":\"ethereum\",\"circulating_supply\":106575904.1866,\"total_supply\":106575904.1866,\"max_supply\":null,\"date_added\":\"2015-08-07T00:00:00.000Z\",\"num_market_pairs\":5395,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":2,\"last_updated\":\"2019-06-21T03:33:19.000Z\",\"quote\":{\"USD\":{\"price\":279.50952433,\"volume_24h\":7513435431.32225,\"percent_change_1h\":-0.541476,\"percent_change_24h\":3.58826,\"percent_change_7d\":8.99539,\"market_cap\":29788980284.236217,\"last_updated\":\"2019-06-21T03:33:19.000Z\"}}},{\"id\":52,\"name\":\"XRP\",\"symbol\":\"XRP\",\"slug\":\"ripple\",\"circulating_supply\":42501950124,\"total_supply\":99991601899,\"max_supply\":100000000000,\"date_added\":\"2013-08-04T00:00:00.000Z\",\"num_market_pairs\":426,\"tags\":[],\"platform\":null,\"cmc_rank\":3,\"last_updated\":\"2019-06-21T03:33:02.000Z\",\"quote\":{\"USD\":{\"price\":0.436165761699,\"volume_24h\":1470844157.89488,\"percent_change_1h\":-0.214369,\"percent_change_24h\":0.364731,\"percent_change_7d\":9.11704,\"market_cap\":18537895449.527367,\"last_updated\":\"2019-06-21T03:33:02.000Z\"}}},{\"id\":2,\"name\":\"Litecoin\",\"symbol\":\"LTC\",\"slug\":\"litecoin\",\"circulating_supply\":62318750.4246447,\"total_supply\":62318750.4246447,\"max_supply\":84000000,\"date_added\":\"2013-04-28T00:00:00.000Z\",\"num_market_pairs\":568,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":4,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":137.726816416,\"volume_24h\":4081863654.62775,\"percent_change_1h\":0.630391,\"percent_change_24h\":1.24815,\"percent_change_7d\":5.56552,\"market_cap\":8582963099.0095625,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":1831,\"name\":\"Bitcoin Cash\",\"symbol\":\"BCH\",\"slug\":\"bitcoin-cash\",\"circulating_supply\":17849100,\"total_supply\":17849100,\"max_supply\":21000000,\"date_added\":\"2017-07-23T00:00:00.000Z\",\"num_market_pairs\":334,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":5,\"last_updated\":\"2019-06-21T03:33:05.000Z\",\"quote\":{\"USD\":{\"price\":423.827233149,\"volume_24h\":1482883150.80566,\"percent_change_1h\":-0.301844,\"percent_change_24h\":1.83365,\"percent_change_7d\":3.10865,\"market_cap\":7564934667.199816,\"last_updated\":\"2019-06-21T03:33:05.000Z\"}}},{\"id\":1765,\"name\":\"EOS\",\"symbol\":\"EOS\",\"slug\":\"eos\",\"circulating_supply\":919980357.8206,\"total_supply\":1016680363.5009,\"max_supply\":null,\"date_added\":\"2017-07-01T00:00:00.000Z\",\"num_market_pairs\":325,\"tags\":[],\"platform\":null,\"cmc_rank\":6,\"last_updated\":\"2019-06-21T03:33:05.000Z\",\"quote\":{\"USD\":{\"price\":6.98389558232,\"volume_24h\":2164498677.45952,\"percent_change_1h\":-0.504524,\"percent_change_24h\":1.69592,\"percent_change_7d\":8.26297,\"market_cap\":6425046756.8044615,\"last_updated\":\"2019-06-21T03:33:05.000Z\"}}},{\"id\":1839,\"name\":\"Binance Coin\",\"symbol\":\"BNB\",\"slug\":\"binance-coin\",\"circulating_supply\":141175490.242,\"total_supply\":189175490.242,\"max_supply\":null,\"date_added\":\"2017-07-25T00:00:00.000Z\",\"num_market_pairs\":173,\"tags\":[],\"platform\":null,\"cmc_rank\":7,\"last_updated\":\"2019-06-21T03:34:06.000Z\",\"quote\":{\"USD\":{\"price\":36.4924972615,\"volume_24h\":621873377.479583,\"percent_change_1h\":-0.701443,\"percent_change_24h\":4.44787,\"percent_change_7d\":6.061,\"market_cap\":5151846191.047105,\"last_updated\":\"2019-06-21T03:34:06.000Z\"}}},{\"id\":3602,\"name\":\"Bitcoin SV\",\"symbol\":\"BSV\",\"slug\":\"bitcoin-sv\",\"circulating_supply\":17846973.324383,\"total_supply\":17846973.324383,\"max_supply\":21000000,\"date_added\":\"2018-11-09T00:00:00.000Z\",\"num_market_pairs\":126,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":8,\"last_updated\":\"2019-06-21T03:33:10.000Z\",\"quote\":{\"USD\":{\"price\":221.015354605,\"volume_24h\":457443989.638171,\"percent_change_1h\":-0.499717,\"percent_change_24h\":-1.61342,\"percent_change_7d\":6.33904,\"market_cap\":3944455137.914485,\"last_updated\":\"2019-06-21T03:33:10.000Z\"}}},{\"id\":825,\"name\":\"Tether\",\"symbol\":\"USDT\",\"slug\":\"tether\",\"circulating_supply\":3547705309.32656,\"total_supply\":3720057493.36343,\"max_supply\":null,\"date_added\":\"2015-02-25T00:00:00.000Z\",\"num_market_pairs\":2469,\"tags\":[],\"platform\":{\"id\":83,\"name\":\"Omni\",\"symbol\":\"OMNI\",\"slug\":\"omni\",\"token_address\":\"31\"},\"cmc_rank\":9,\"last_updated\":\"2019-06-21T03:33:10.000Z\",\"quote\":{\"USD\":{\"price\":1.00241507143,\"volume_24h\":19007188295.3469,\"percent_change_1h\":0.0510195,\"percent_change_24h\":0.114615,\"percent_change_7d\":-0.0803756,\"market_cap\":3556273271.061174,\"last_updated\":\"2019-06-21T03:33:10.000Z\"}}},{\"id\":512,\"name\":\"Stellar\",\"symbol\":\"XLM\",\"slug\":\"stellar\",\"circulating_supply\":19408944602.6089,\"total_supply\":105082570523.4,\"max_supply\":null,\"date_added\":\"2014-08-05T00:00:00.000Z\",\"num_market_pairs\":269,\"tags\":[],\"platform\":null,\"cmc_rank\":10,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":0.123405368828,\"volume_24h\":295132340.508032,\"percent_change_1h\":0.0967938,\"percent_change_24h\":-0.459943,\"percent_change_7d\":-0.816837,\"market_cap\":2395167967.247171,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":2010,\"name\":\"Cardano\",\"symbol\":\"ADA\",\"slug\":\"cardano\",\"circulating_supply\":25927070538,\"total_supply\":31112483745,\"max_supply\":45000000000,\"date_added\":\"2017-10-01T00:00:00.000Z\",\"num_market_pairs\":85,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":11,\"last_updated\":\"2019-06-21T03:34:05.000Z\",\"quote\":{\"USD\":{\"price\":0.0885581778005,\"volume_24h\":156549814.708529,\"percent_change_1h\":-0.731165,\"percent_change_24h\":-0.211231,\"percent_change_7d\":-1.47028,\"market_cap\":2296054122.550309,\"last_updated\":\"2019-06-21T03:34:05.000Z\"}}},{\"id\":1958,\"name\":\"TRON\",\"symbol\":\"TRX\",\"slug\":\"tron\",\"circulating_supply\":66682072191.4,\"total_supply\":99281283754.3,\"max_supply\":null,\"date_added\":\"2017-09-13T00:00:00.000Z\",\"num_market_pairs\":232,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":12,\"last_updated\":\"2019-06-21T03:33:05.000Z\",\"quote\":{\"USD\":{\"price\":0.0330249952234,\"volume_24h\":614918797.231995,\"percent_change_1h\":-0.884443,\"percent_change_24h\":-1.22905,\"percent_change_7d\":1.61046,\"market_cap\":2202175115.607399,\"last_updated\":\"2019-06-21T03:33:05.000Z\"}}},{\"id\":3957,\"name\":\"UNUS SED LEO\",\"symbol\":\"LEO\",\"slug\":\"unus-sed-leo\",\"circulating_supply\":999498892.9,\"total_supply\":999498892.9,\"max_supply\":null,\"date_added\":\"2019-05-21T00:00:00.000Z\",\"num_market_pairs\":17,\"tags\":[],\"platform\":{\"id\":1027,\"name\":\"Ethereum\",\"symbol\":\"ETH\",\"slug\":\"ethereum\",\"token_address\":\"0x2af5d2ad76741191d15dfe7bf6ac92d4bd912ca3\"},\"cmc_rank\":13,\"last_updated\":\"2019-06-21T03:33:11.000Z\",\"quote\":{\"USD\":{\"price\":1.87480657196,\"volume_24h\":9505221.81089506,\"percent_change_1h\":-0.716534,\"percent_change_24h\":0.843181,\"percent_change_7d\":-2.8353,\"market_cap\":1873867093.075664,\"last_updated\":\"2019-06-21T03:33:11.000Z\"}}},{\"id\":328,\"name\":\"Monero\",\"symbol\":\"XMR\",\"slug\":\"monero\",\"circulating_supply\":17053741.8572567,\"total_supply\":17053741.8572567,\"max_supply\":null,\"date_added\":\"2014-05-21T00:00:00.000Z\",\"num_market_pairs\":131,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":14,\"last_updated\":\"2019-06-21T03:34:03.000Z\",\"quote\":{\"USD\":{\"price\":106.516871364,\"volume_24h\":179755833.84196,\"percent_change_1h\":-0.78865,\"percent_change_24h\":5.61677,\"percent_change_7d\":19.0409,\"market_cap\":1816511227.6842742,\"last_updated\":\"2019-06-21T03:34:03.000Z\"}}},{\"id\":131,\"name\":\"Dash\",\"symbol\":\"DASH\",\"slug\":\"dash\",\"circulating_supply\":8875831.80428042,\"total_supply\":8875831.80428042,\"max_supply\":18900000,\"date_added\":\"2014-02-14T00:00:00.000Z\",\"num_market_pairs\":240,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":15,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":162.943459745,\"volume_24h\":258939072.976876,\"percent_change_1h\":-0.224761,\"percent_change_24h\":0.507912,\"percent_change_7d\":5.75255,\"market_cap\":1446258742.3041575,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":3794,\"name\":\"Cosmos\",\"symbol\":\"ATOM\",\"slug\":\"cosmos\",\"circulating_supply\":190688439.2,\"total_supply\":237928230.821588,\"max_supply\":null,\"date_added\":\"2019-03-14T00:00:00.000Z\",\"num_market_pairs\":69,\"tags\":[],\"platform\":null,\"cmc_rank\":16,\"last_updated\":\"2019-06-21T03:33:10.000Z\",\"quote\":{\"USD\":{\"price\":6.38671230402,\"volume_24h\":69683235.0563532,\"percent_change_1h\":-1.0113,\"percent_change_24h\":-3.26032,\"percent_change_7d\":2.31408,\"market_cap\":1217872200.8730094,\"last_updated\":\"2019-06-21T03:33:10.000Z\"}}},{\"id\":1720,\"name\":\"IOTA\",\"symbol\":\"MIOTA\",\"slug\":\"iota\",\"circulating_supply\":2779530283,\"total_supply\":2779530283,\"max_supply\":2779530283,\"date_added\":\"2017-06-13T00:00:00.000Z\",\"num_market_pairs\":45,\"tags\":[],\"platform\":null,\"cmc_rank\":17,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":0.427869680333,\"volume_24h\":38643365.2189673,\"percent_change_1h\":0.0535702,\"percent_change_24h\":-1.86477,\"percent_change_7d\":-2.42068,\"market_cap\":1189276733.663103,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":1376,\"name\":\"NEO\",\"symbol\":\"NEO\",\"slug\":\"neo\",\"circulating_supply\":70538831,\"total_supply\":100000000,\"max_supply\":100000000,\"date_added\":\"2016-09-08T00:00:00.000Z\",\"num_market_pairs\":183,\"tags\":[],\"platform\":null,\"cmc_rank\":18,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":13.6839576074,\"volume_24h\":405893929.98782,\"percent_change_1h\":-0.703707,\"percent_change_24h\":0.0740388,\"percent_change_7d\":4.76946,\"market_cap\":965250373.079553,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":1321,\"name\":\"Ethereum Classic\",\"symbol\":\"ETC\",\"slug\":\"ethereum-classic\",\"circulating_supply\":111367451,\"total_supply\":111367451,\"max_supply\":210000000,\"date_added\":\"2016-07-24T00:00:00.000Z\",\"num_market_pairs\":197,\"tags\":[\"mineable\"],\"platform\":null,\"cmc_rank\":19,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":8.57161879733,\"volume_24h\":656679456.281717,\"percent_change_1h\":-0.59033,\"percent_change_24h\":0.71616,\"percent_change_7d\":1.45468,\"market_cap\":954599336.4023278,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}},{\"id\":873,\"name\":\"NEM\",\"symbol\":\"XEM\",\"slug\":\"nem\",\"circulating_supply\":8999999999,\"total_supply\":8999999999,\"max_supply\":null,\"date_added\":\"2015-04-01T00:00:00.000Z\",\"num_market_pairs\":93,\"tags\":[],\"platform\":null,\"cmc_rank\":20,\"last_updated\":\"2019-06-21T03:34:04.000Z\",\"quote\":{\"USD\":{\"price\":0.0866616034982,\"volume_24h\":37179911.9702058,\"percent_change_1h\":-0.587426,\"percent_change_24h\":-0.712618,\"percent_change_7d\":1.07194,\"market_cap\":779954431.3971384,\"last_updated\":\"2019-06-21T03:34:04.000Z\"}}}]}";

            var moedas = JsonConvert.DeserializeObject<ListaMoedas>(conteudo).data.Select(s => new MoedaViewModel()
            {
                Id = s.id,
                Nome = s.name,
                Simbolo = s.symbol,
                Rank = s.cmc_rank,
                Preco = s.quote["USD"].price,
            }).ToList();
            return Ok(moedas);
        }

    }
}
